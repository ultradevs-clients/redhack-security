"use client";
import { useState } from "react";
import img2 from "@/assets/images/pentest-benifit-1.webp";
import img3 from "@/assets/images/pentest-benifit-1.webp";
import img1 from "@/assets/images/pentest-benifit-1.webp";
import img4 from "@/assets/images/pentest-benifit-1.webp";
import img5 from "@/assets/images/pentest-benifit-1.webp";
import img6 from "@/assets/images/pentest-benifit-1.webp";
import img7 from "@/assets/images/pentest-benifit-1.webp";
import img8 from "@/assets/images/pentest-benifit-1.webp";
import { useEffect } from "react";
import Image from "next/image";

const benifits = [
	{
		id: 1,
		title: "Standardized Framework",
		desc: "Our platform offers a robust and standardized built-in framework designed to deliver consistent and repeatable penetration testing. It systematically benchmarks the latest attack tactics, techniques, and procedures (TTPs), security controls, and organizational processes — ensuring your security posture is rigorously evaluated against industry-leading standards.",
		img: img1,
	},
	{
		id: 2,
		title: "Enhanced Accuracy",
		desc: "By incorporating cutting-edge AI and natural language processing (NLP) models, we automate repetitive security tasks and complex decision-making processes. This significantly reduces human error and enhances the precision and reliability of your continuous security testing, delivering more dependable and actionable results.",
		img: img2,
	},
	{
		id: 3,
		title: "Advanced Technology",
		desc: "Utilizing powerful real-time data analytics, our platform swiftly identifies complex attack patterns and anomalies that traditional methods often miss. This proactive approach allows us to predict potential exploits before they occur, helping you stay one step ahead of emerging threats.",
		img: img3,
	},
	{
		id: 4,
		title: "Faster, More Effective Results",
		desc: "Our solution dramatically increases the speed and efficiency of vulnerability identification and prioritization. By analyzing vast data sets, historical vulnerability trends, and thousands of evidence-based tests, we uncover critical security gaps that manual testing alone cannot detect, enabling faster remediation and risk reduction.",
		img: img4,
	},
	{
		id: 5,
		title: "Scalable Solutions",
		desc: "Designed to meet the demands of large enterprises, our platform excels at handling extensive data analysis and security operations at scale. Real-time classification of true and false positives enables efficient prioritization, making it easier to manage and reduce your attack surface regardless of your organization’s size.",
		img: img5,
	},
	{
		id: 6,
		title: "Flexible & Versatile Approach",
		desc: "Our penetration testing and security validation services are highly adaptable, aligning closely with your unique business goals and security requirements. This flexibility empowers you to select the most effective testing methodologies and solutions tailored specifically to your environment.",
		img: img6,
	},
	{
		id: 7,
		title: "Industry Benchmarking",
		desc: "We continuously measure your security posture against established industry standards and peer organizations. This benchmarking provides valuable insights into your relative risk exposure and helps you identify areas for improvement in an ever-evolving threat landscape.",
		img: img7,
	},
	{
		id: 8,
		title: "Compliance Assurance",
		desc: "Our penetration testing practices are aligned with major regulatory frameworks and industry compliance requirements, helping you meet necessary standards and build trust with clients, partners, and regulators. This ensures your organization maintains a strong security posture while adhering to legal and contractual obligations.",
		img: img8,
	},
];

export default function PentestBenifits() {
	const [currentServiceId, setCurrentServiceId] = useState(1);
	const [currentService, setCurrentService] = useState([]);
	const [dropdownOpen, setDropdownOpen] = useState(false);

	const handleService = (id) => {
		const result = benifits.find((benifit) => benifit.id === id);
		setCurrentServiceId(id);
		setCurrentService(result);
	};

	useEffect(() => {
		handleService(1);
	}, []);

	return (
		<div className="service border-t border-background/10 bg-accent text-background pt-18 lg:pt-32 lg:pb-14">
			<div className="container px-5 lg:px-0 text-center">
				<h2 className="!font-inter pb-12">
					Redhack Security Penetration Testing Benifits
				</h2>

				<div className="bg-background/10 hidden md:grid grid-cols-4 w-full overflow-x-auto mx-auto rounded-lg ">
					{benifits.slice(0, 4).map((benifit) => (
						<button
							key={benifit.id}
							onClick={() => handleService(benifit.id)}
							className={`btn-service-card ${
								currentServiceId === benifit.id
									? "bg-main"
									: "bg-transparent"
							}`}
						>
							{benifit.title}
						</button>
					))}
				</div>
				<div className="bg-background/10 hidden md:grid grid-cols-4 w-full overflow-x-auto mx-auto rounded-lg mt-4 mb-12">
					{benifits.slice(4).map((benifit) => (
						<button
							key={benifit.id}
							onClick={() => handleService(benifit.id)}
							className={`btn-service-card ${
								currentServiceId === benifit.id
									? "bg-main"
									: "bg-transparent"
							}`}
						>
							{benifit.title}
						</button>
					))}
				</div>

				{/* Mobile Dropdown */}
				<div className="md:hidden w-full max-w-xs mx-auto mt-6 text-left">
					<div className="relative">
						<button
							onClick={() => setDropdownOpen(!dropdownOpen)}
							className="w-full px-6 py-5 text-lg rounded-lg bg-main font-semibold font-gilroy flex justify-between items-center"
						>
							{currentService.title}
							<svg
								className="w-4 h-4 ml-2"
								xmlns="http://www.w3.org/2000/svg"
								fill="none"
								viewBox="0 0 24 24"
								stroke="currentColor"
							>
								<path
									strokeLinecap="round"
									strokeLinejoin="round"
									strokeWidth={2}
									d="M19 9l-7 7-7-7"
								/>
							</svg>
						</button>

						{dropdownOpen && (
							<ul className="absolute z-50 mt-1 text-sm space-y-2 py-3 w-full rounded-lg bg-background overflow-hidden">
								{benifits.map((benifit) => (
									<li
										key={benifit.id}
										onClick={() => {
											handleService(benifit.id);
											setDropdownOpen(false);
										}}
										className={`cursor-pointer px-5 py-2 text-sm ${
											currentServiceId === benifit.id
												? "bg-main text-background"
												: "bg-background text-accent"
										}`}
									>
										{benifit.title}
									</li>
								))}
							</ul>
						)}
					</div>
				</div>

				<section className="flex flex-col lg:flex-row w-full gap-12 py-6  ">
					<figure className="lg:w-2/4  ">
						<Image
							className="w-full h-full object-cover rounded-lg"
							src={currentService.img}
							alt="servive image"
						/>
					</figure>
					<div className="lg:w-2/4 text-left py-3">
						<h2 className="!text-[27px] !normal-case">
							{currentService.title}
						</h2>
						<p className="text-justify opacity-70 leading-relaxed">
							{currentService.desc}
						</p>
					</div>
				</section>
			</div>
		</div>
	);
}
